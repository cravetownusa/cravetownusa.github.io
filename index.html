<html>
<head>
    <title>Cravetown, USA</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" type="text/css" href="stylesheet.css" />
    <script>
        window.onload() = function() {
            const prevText = localStorage.getItem("file");
            document.getElementById("results").value = prevText;
        }
        
        function getTimeStamp() {
                var now = new Date();
                return ((now.getMonth() + 1) + '/' + (now.getDate()) + '/' + now.getFullYear() + " " + now.getHours() + ':'
                             + ((now.getMinutes() < 10) ? ("0" + now.getMinutes()) : (now.getMinutes())) + ':' + ((now.getSeconds() < 10) ? ("0" + now
                             .getSeconds()) : (now.getSeconds())) + " \n");
        }

        function printSuccess() {
               return ("Great job resisting!\n");
        }

        function clearText() {
                return (" ");
        }

        function saveResults() {
            const savedText = document.getElementById("results").value;
            savedText = JSON.stringify(savedText);
            localStorage.setItem("file", savedText);
        }

        var counter = 0;
        if (getTimeStamp() === true) {
                counter+=1;
                const daily = document.getElementById("daily");
                daily.value = " ";
                daily.value = counter;       
        }
        
    </script>
</head>
<body>
    <h1>Cravetown</h1>
    <image src="IMG_5009.gif" height="100px" width="100px" />
    <br><br><br>
    <form name="timeForm">
        <div class="buttons">
            <button id="crave" type="button" onclick="this.form.timeField.value+=printSuccess()">Crave</button>
            <button id="cave" type="button" onclick="this.form.timeField.value+=getTimeStamp()">Cave</button>
        </div>
        <br><br>
        <h3>Your Results</h3>
        <textarea name="dayCount" id="daily" rows="1" cols="1" style="font-weight: bold;">0</textarea>
        <button id="clear" onclick="this.form.timeField.value=clearText()">Clear</button>
        <button id="save" onclick="this.form.timeField.value=saveResults()">Save</button>
        <p>Today: </p>
        <textarea name="timeField" id="results" rows="50" cols="1" style="font-weight: bold;"></textarea>
    </form>
</body>
