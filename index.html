<html>
<head>
    <title>Cravetown, USA</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" type="text/css" href="stylesheet.css" />
    <script>
        function getTimeStamp() {
                var now = new Date();
                return ((now.getMonth() + 1) + '/' + (now.getDate()) + '/' + now.getFullYear() + " " + now.getHours() + ':'
                             + ((now.getMinutes() < 10) ? ("0" + now.getMinutes()) : (now.getMinutes())) + ':' + ((now.getSeconds() < 10) ? ("0" + now
                             .getSeconds()) : (now.getSeconds())) + " \n");
        }


        function printSuccess() {
               return ("Great job resisting!\n");
        }

        function clearText() {
                return localStorage.clear();
        }

        function saveResults() {
                let savedText = document.getElementById("results").value;
                savedText = JSON.stringify(savedText);
                localStorage.setItem("file", savedText);
        }

                       
    </script>
</head>
<body style="display:flex;flex-direction:row;">
    
    <div class="left-panel">
        <h1>Cravetown</h1>
        <image src="IMG_5040.gif" height="300px" width="300px" />
        <br><br><br>
        <form name="timeForm">
            <div class="buttons">
                <button id="crave" type="button" onclick="this.form.timeField.value+=printSuccess()">Crave</button>
                <button id="cave" type="button" onclick="this.form.timeField.value+=getTimeStamp()">Cave</button>
                <script>
                    document.getElementById("cave").addEventListener('click', ()=> {
                        let daily = document.getElementById("daily");
                        let currentValue = parseInt(daily.value);
                        daily.value += "+1";
                    });
                </script>
            </div>
            <br><br>
            <image src="IMG_5009.gif" width="100px" height="100px" />
            <h3>Your Results</h3> 
            <input type="text" id="daily" value="0" style="border:none;font-size:42;font-weight:bold"></input>
            <br><br>
            <button id="clear" onclick="this.form.timeField.value=clearText()">Clear</button>
            <button id="save" onclick="this.form.timeField.value=saveResults()">Save</button>
            <p>Today: </p>
            <textarea name="timeField" id="results" rows="50" cols="1" style="font-weight: bold;"></textarea>
        </form>
            <script>
                    let storedText = document.getElementById("results");
                    if (localStorage.getItem("file")) {
                    storedText.value = JSON.parse(localStorage.getItem("file"));
                    }
            </script>
    </div>    
</body>
